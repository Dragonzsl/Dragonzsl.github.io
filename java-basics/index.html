<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon.png"><link rel="icon" href="/images/avatar.jpeg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Plua Htims"><meta name="keywords" content=""><meta name="description" content="JavaåŸºç¡€ç›¸å…³"><meta property="og:type" content="article"><meta property="og:title" content="JavaåŸºç¡€"><meta property="og:url" content="https://tomysmith.top/java-basics/index.html"><meta property="og:site_name" content="Paul-Blog"><meta property="og:description" content="JavaåŸºç¡€ç›¸å…³"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://oscimg.oschina.net/oscnet/up-1ae0425ce8646adfb768b5374951eeb820d.png"><meta property="og:image" content="https://oss.javaguide.cn/github/javaguide/jdk9-string-latin1.png"><meta property="article:published_time" content="2023-11-26T11:16:26.000Z"><meta property="article:modified_time" content="2023-11-26T11:16:26.000Z"><meta property="article:author" content="Plua Htims"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://oscimg.oschina.net/oscnet/up-1ae0425ce8646adfb768b5374951eeb820d.png"><title>JavaåŸºç¡€ - Paul-Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/fluid-extention.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"tomysmith.top",root:"/",version:"1.9.5-a",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:"home"},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:"Â§"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="Paul-Blog" type="application/atom+xml">
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head><body><header><div class="header-inner" style="height:40vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Plua Htims&#39; Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>å…³äº</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">JavaåŸºç¡€</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-11-26 19:16" pubdate>2023å¹´11æœˆ26æ—¥ æ™šä¸Š</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 6.4k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 54 åˆ†é’Ÿ</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">JavaåŸºç¡€</h1><div class="markdown-body"><p><strong>JavaåŸºç¡€ç›¸å…³</strong></p><span id="more"></span><blockquote><p><strong>æœ¬æ–‡æ•´ç†è‡ª<a target="_blank" rel="noopener" href="https://javaguide.cn/">JavaGuide</a></strong></p></blockquote><h2 id="Java-ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹äº†è§£ä¹ˆï¼Ÿ"><a href="#Java-ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹äº†è§£ä¹ˆï¼Ÿ" class="headerlink" title="Java ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹äº†è§£ä¹ˆï¼Ÿ"></a><em><strong>Java ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹äº†è§£ä¹ˆï¼Ÿ</strong></em></h2><p>Java ä¸­æœ‰ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«ä¸ºï¼š</p><ul><li>6 ç§æ•°å­—ç±»å‹ï¼š<ul><li>4 ç§æ•´æ•°å‹ï¼š<code>byte</code>ã€<code>short</code>ã€<code>int</code>ã€<code>long</code></li><li>2 ç§æµ®ç‚¹å‹ï¼š<code>float</code>ã€<code>double</code></li></ul></li><li>1 ç§å­—ç¬¦ç±»å‹ï¼š<code>char</code></li><li>1 ç§å¸ƒå°”å‹ï¼š<code>boolean</code>ã€‚</li></ul><p>è¿™ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ä»¥åŠæ‰€å ç©ºé—´çš„å¤§å°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>åŸºæœ¬ç±»å‹</th><th>ä½æ•°</th><th>å­—èŠ‚</th><th>é»˜è®¤å€¼</th><th>å–å€¼èŒƒå›´</th></tr></thead><tbody><tr><td>byte</td><td>8</td><td>1</td><td>0</td><td>-128 ~ 127</td></tr><tr><td>short</td><td>16</td><td>2</td><td>0</td><td>-32768 ~ 32767</td></tr><tr><td>int</td><td>32</td><td>4</td><td>0</td><td>-2147483648 ~ 2147483647</td></tr><tr><td>long</td><td>64</td><td>8</td><td>0L</td><td>-9223372036854775808 ~ 9223372036854775807</td></tr><tr><td>char</td><td>16</td><td>2</td><td>â€˜u0000â€™</td><td>0 ~ 65535</td></tr><tr><td>float</td><td>32</td><td>4</td><td>0f</td><td>1.4E-45 ~ 3.4028235E38</td></tr><tr><td>double</td><td>64</td><td>8</td><td>0d</td><td>4.9E-324 ~ 1.7976931348623157E308</td></tr><tr><td>boolean</td><td>1</td><td></td><td>false</td><td>trueã€false</td></tr></tbody></table><p>å¯¹äº <code>boolean</code>ï¼Œå®˜æ–¹æ–‡æ¡£æœªæ˜ç¡®å®šä¹‰ï¼Œå®ƒä¾èµ–äº JVM å‚å•†çš„å…·ä½“å®ç°ã€‚é€»è¾‘ä¸Šç†è§£æ˜¯å ç”¨ 1 ä½ï¼Œä½†æ˜¯å®é™…ä¸­ä¼šè€ƒè™‘è®¡ç®—æœºé«˜æ•ˆå­˜å‚¨å› ç´ ã€‚</p><hr><h2 id="åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ"><a href="#åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ" class="headerlink" title="åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ"></a><em><strong>åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ</strong></em></h2><p>Java åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å‹çš„å¤§éƒ¨åˆ†éƒ½ç”¨åˆ°äº†ç¼“å­˜æœºåˆ¶æ¥æå‡æ€§èƒ½ã€‚</p><p><code>Byte</code>,<code>Short</code>,<code>Integer</code>,<code>Long</code> è¿™ 4 ç§åŒ…è£…ç±»é»˜è®¤åˆ›å»ºäº†æ•°å€¼ <strong>[-128ï¼Œ127]</strong> çš„ç›¸åº”ç±»å‹çš„ç¼“å­˜æ•°æ®ï¼Œ<code>Character</code> åˆ›å»ºäº†æ•°å€¼åœ¨ <strong>[0,127]</strong> èŒƒå›´çš„ç¼“å­˜æ•°æ®ï¼Œ<code>Boolean</code> ç›´æ¥è¿”å› <code>True</code> or <code>False</code>ã€‚</p><p><strong>Integer ç¼“å­˜æºç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Integer <span class="hljs-title function_">valueOf</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span> &#123;<br>    <span class="hljs-keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)<br>        <span class="hljs-keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(i);<br>&#125;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IntegerCache</span> &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">low</span> <span class="hljs-operator">=</span> -<span class="hljs-number">128</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> high;<br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-comment">// high value may be configured by property</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> <span class="hljs-number">127</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong><code>Character</code> ç¼“å­˜æºç :</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Character <span class="hljs-title function_">valueOf</span><span class="hljs-params">(<span class="hljs-type">char</span> c)</span> &#123;<br>    <span class="hljs-keyword">if</span> (c &lt;= <span class="hljs-number">127</span>) &#123; <span class="hljs-comment">// must cache</span><br>      <span class="hljs-keyword">return</span> CharacterCache.cache[(<span class="hljs-type">int</span>)c];<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Character</span>(c);<br>&#125;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CharacterCache</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">CharacterCache</span><span class="hljs-params">()</span>&#123;&#125;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Character cache[] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Character</span>[<span class="hljs-number">127</span> + <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; cache.length; i++)<br>            cache[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Character</span>((<span class="hljs-type">char</span>)i);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong><code>Boolean</code> ç¼“å­˜æºç ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Boolean <span class="hljs-title function_">valueOf</span><span class="hljs-params">(<span class="hljs-type">boolean</span> b)</span> &#123;<br>    <span class="hljs-keyword">return</span> (b ? TRUE : FALSE);<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœè¶…å‡ºå¯¹åº”èŒƒå›´ä»ç„¶ä¼šå»åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œç¼“å­˜çš„èŒƒå›´åŒºé—´çš„å¤§å°åªæ˜¯åœ¨æ€§èƒ½å’Œèµ„æºä¹‹é—´çš„æƒè¡¡ã€‚</p><p>ä¸¤ç§æµ®ç‚¹æ•°ç±»å‹çš„åŒ…è£…ç±» <code>Float</code>,<code>Double</code> å¹¶æ²¡æœ‰å®ç°ç¼“å­˜æœºåˆ¶ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Integer</span> <span class="hljs-variable">i1</span> <span class="hljs-operator">=</span> <span class="hljs-number">33</span>;<br><span class="hljs-type">Integer</span> <span class="hljs-variable">i2</span> <span class="hljs-operator">=</span> <span class="hljs-number">33</span>;<br>System.out.println(i1 == i2);<span class="hljs-comment">// è¾“å‡º true</span><br><br><span class="hljs-type">Float</span> <span class="hljs-variable">i11</span> <span class="hljs-operator">=</span> <span class="hljs-number">333f</span>;<br><span class="hljs-type">Float</span> <span class="hljs-variable">i22</span> <span class="hljs-operator">=</span> <span class="hljs-number">333f</span>;<br>System.out.println(i11 == i22);<span class="hljs-comment">// è¾“å‡º false</span><br><br><span class="hljs-type">Double</span> <span class="hljs-variable">i3</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span>;<br><span class="hljs-type">Double</span> <span class="hljs-variable">i4</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.2</span>;<br>System.out.println(i3 == i4);<span class="hljs-comment">// è¾“å‡º false</span><br></code></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼šä¸‹é¢çš„ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ <code>true</code> è¿˜æ˜¯ <code>false</code> å‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Integer</span> <span class="hljs-variable">i1</span> <span class="hljs-operator">=</span> <span class="hljs-number">40</span>;<br><span class="hljs-type">Integer</span> <span class="hljs-variable">i2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">40</span>);<br>System.out.println(i1==i2);<br></code></pre></td></tr></table></figure><p><code>Integer i1=40</code> è¿™ä¸€è¡Œä»£ç ä¼šå‘ç”Ÿè£…ç®±ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™è¡Œä»£ç ç­‰ä»·äº <code>Integer i1=Integer.valueOf(40)</code> ã€‚å› æ­¤ï¼Œ<code>i1</code> ç›´æ¥ä½¿ç”¨çš„æ˜¯ç¼“å­˜ä¸­çš„å¯¹è±¡ã€‚è€Œ<code>Integer i2 = new Integer(40)</code> ä¼šç›´æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><p>å› æ­¤ï¼Œç­”æ¡ˆæ˜¯ <code>false</code> ã€‚ä½ ç­”å¯¹äº†å—ï¼Ÿ</p><p>è®°ä½ï¼š<strong>æ‰€æœ‰æ•´å‹åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ equals æ–¹æ³•æ¯”è¾ƒ</strong>ã€‚</p><p><img src="https://oscimg.oschina.net/oscnet/up-1ae0425ce8646adfb768b5374951eeb820d.png" srcset="/img/loading.gif" lazyload></p><hr><h2 id="è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±äº†è§£å—ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±äº†è§£å—ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±äº†è§£å—ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a><em><strong>è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±äº†è§£å—ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</strong></em></h2><p><strong>ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ‹†è£…ç®±ï¼Ÿ</strong></p><ul><li><strong>è£…ç®±</strong>ï¼šå°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼›</li><li><strong>æ‹†ç®±</strong>ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼›</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Integer</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;  <span class="hljs-comment">//è£…ç®±</span><br><span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> i;   <span class="hljs-comment">//æ‹†ç®±</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸¤è¡Œä»£ç å¯¹åº”çš„å­—èŠ‚ç ä¸ºï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-variable">L1</span><br><br> <span class="hljs-variable">LINENUMBER</span> <span class="hljs-number">8</span> <span class="hljs-variable">L1</span><br><br> <span class="hljs-variable">ALOAD</span> <span class="hljs-number">0</span><br><br> <span class="hljs-variable">BIPUSH</span> <span class="hljs-number">10</span><br><br> <span class="hljs-variable">INVOKESTATIC</span> <span class="hljs-variable">java</span><span class="hljs-operator">/</span><span class="hljs-variable">lang</span><span class="hljs-operator">/</span><span class="hljs-built_in">Integer</span><span class="hljs-operator">.</span><span class="hljs-variable">valueOf</span> <span class="hljs-punctuation">(</span><span class="hljs-built_in">I</span><span class="hljs-punctuation">)</span><span class="hljs-variable">Ljava</span><span class="hljs-operator">/</span><span class="hljs-variable">lang</span><span class="hljs-operator">/</span><span class="hljs-built_in">Integer</span><span class="hljs-operator">;</span><br><br> <span class="hljs-variable">PUTFIELD</span> <span class="hljs-variable">AutoBoxTest</span><span class="hljs-operator">.</span><span class="hljs-variable">i</span> <span class="hljs-operator">:</span> <span class="hljs-variable">Ljava</span><span class="hljs-operator">/</span><span class="hljs-variable">lang</span><span class="hljs-operator">/</span><span class="hljs-built_in">Integer</span><span class="hljs-operator">;</span><br><br><span class="hljs-variable">L2</span><br><br> <span class="hljs-variable">LINENUMBER</span> <span class="hljs-number">9</span> <span class="hljs-variable">L2</span><br><br> <span class="hljs-variable">ALOAD</span> <span class="hljs-number">0</span><br><br> <span class="hljs-variable">ALOAD</span> <span class="hljs-number">0</span><br><br> <span class="hljs-variable">GETFIELD</span> <span class="hljs-variable">AutoBoxTest</span><span class="hljs-operator">.</span><span class="hljs-variable">i</span> <span class="hljs-operator">:</span> <span class="hljs-variable">Ljava</span><span class="hljs-operator">/</span><span class="hljs-variable">lang</span><span class="hljs-operator">/</span><span class="hljs-built_in">Integer</span><span class="hljs-operator">;</span><br><br> <span class="hljs-variable">INVOKEVIRTUAL</span> <span class="hljs-variable">java</span><span class="hljs-operator">/</span><span class="hljs-variable">lang</span><span class="hljs-operator">/</span><span class="hljs-built_in">Integer</span><span class="hljs-operator">.</span><span class="hljs-variable">intValue</span> <span class="hljs-punctuation">(</span><span class="hljs-punctuation">)</span><span class="hljs-built_in">I</span><br><br> <span class="hljs-variable">PUTFIELD</span> <span class="hljs-variable">AutoBoxTest</span><span class="hljs-operator">.</span><span class="hljs-variable">n</span> <span class="hljs-operator">:</span> <span class="hljs-built_in">I</span><br><br> <span class="hljs-variable">RETURN</span><br></code></pre></td></tr></table></figure><p>ä»å­—èŠ‚ç ä¸­ï¼Œæˆ‘ä»¬å‘ç°è£…ç®±å…¶å®å°±æ˜¯è°ƒç”¨äº† åŒ…è£…ç±»çš„<code>valueOf()</code>æ–¹æ³•ï¼Œæ‹†ç®±å…¶å®å°±æ˜¯è°ƒç”¨äº† <code>xxxValue()</code>æ–¹æ³•ã€‚</p><p>å› æ­¤ï¼Œ</p><ul><li><code>Integer i = 10</code> ç­‰ä»·äº <code>Integer i = Integer.valueOf(10)</code></li><li><code>int n = i</code> ç­‰ä»·äº <code>int n = i.intValue()</code>;</li></ul><p>æ³¨æ„ï¼š<strong>å¦‚æœé¢‘ç¹æ‹†è£…ç®±çš„è¯ï¼Œä¹Ÿä¼šä¸¥é‡å½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä¸å¿…è¦çš„æ‹†è£…ç®±æ“ä½œã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">sum</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// åº”è¯¥ä½¿ç”¨ long è€Œä¸æ˜¯ Long</span><br>    <span class="hljs-type">Long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0L</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">long</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= Integer.MAX_VALUE; i++)<br>        sum += i;<br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="å’Œ-equals-çš„åŒºåˆ«"><a href="#å’Œ-equals-çš„åŒºåˆ«" class="headerlink" title="&#x3D;&#x3D; å’Œ equals() çš„åŒºåˆ«"></a><em><strong>&#x3D;&#x3D; å’Œ equals() çš„åŒºåˆ«</strong></em></h2><p><strong><code>==</code></strong> å¯¹äºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„ä½œç”¨æ•ˆæœæ˜¯ä¸åŒçš„ï¼š</p><ul><li>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œ<code>==</code> æ¯”è¾ƒçš„æ˜¯å€¼ã€‚</li><li>å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹æ¥è¯´ï¼Œ<code>==</code> æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li></ul><blockquote><p>å› ä¸º Java åªæœ‰å€¼ä¼ é€’ï¼Œæ‰€ä»¥ï¼Œå¯¹äº &#x3D;&#x3D; æ¥è¯´ï¼Œä¸ç®¡æ˜¯æ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿˜æ˜¯å¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡ï¼Œå…¶æœ¬è´¨æ¯”è¾ƒçš„éƒ½æ˜¯å€¼ï¼Œåªæ˜¯å¼•ç”¨ç±»å‹å˜é‡å­˜çš„å€¼æ˜¯å¯¹è±¡çš„åœ°å€ã€‚</p></blockquote><p><strong><code>equals()</code></strong> ä¸èƒ½ç”¨äºåˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåªèƒ½ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚<code>equals()</code>æ–¹æ³•å­˜åœ¨äº<code>Object</code>ç±»ä¸­ï¼Œè€Œ<code>Object</code>ç±»æ˜¯æ‰€æœ‰ç±»çš„ç›´æ¥æˆ–é—´æ¥çˆ¶ç±»ï¼Œå› æ­¤æ‰€æœ‰çš„ç±»éƒ½æœ‰<code>equals()</code>æ–¹æ³•ã€‚</p><p><code>Object</code> ç±» <code>equals()</code> æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> &#123;<br>     <span class="hljs-keyword">return</span> (<span class="hljs-built_in">this</span> == obj);<br>&#125;<br></code></pre></td></tr></table></figure><p><code>equals()</code> æ–¹æ³•å­˜åœ¨ä¸¤ç§ä½¿ç”¨æƒ…å†µï¼š</p><ul><li><strong>ç±»æ²¡æœ‰é‡å†™ <code>equals()</code>æ–¹æ³•</strong>ï¼šé€šè¿‡<code>equals()</code>æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ&#x3D;&#x3D;â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œä½¿ç”¨çš„é»˜è®¤æ˜¯ <code>Object</code>ç±»<code>equals()</code>æ–¹æ³•ã€‚</li><li><strong>ç±»é‡å†™äº† <code>equals()</code>æ–¹æ³•</strong>ï¼šä¸€èˆ¬æˆ‘ä»¬éƒ½é‡å†™ <code>equals()</code>æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ˜¯å¦ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å±æ€§ç›¸ç­‰ï¼Œåˆ™è¿”å› true(å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼ˆè¿™é‡Œåªæ˜¯ä¸ºäº†ä¸¾ä¾‹ã€‚å®é™…ä¸Šï¼Œä½ æŒ‰ç…§ä¸‹é¢è¿™ç§å†™æ³•çš„è¯ï¼Œåƒ IDEA è¿™ç§æ¯”è¾ƒæ™ºèƒ½çš„ IDE éƒ½ä¼šæç¤ºä½ å°† <code>==</code> æ¢æˆ <code>equals()</code> ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;ab&quot;</span>); <span class="hljs-comment">// a ä¸ºä¸€ä¸ªå¼•ç”¨</span><br><span class="hljs-type">String</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">&quot;ab&quot;</span>); <span class="hljs-comment">// bä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ ·</span><br><span class="hljs-type">String</span> <span class="hljs-variable">aa</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ab&quot;</span>; <span class="hljs-comment">// æ”¾åœ¨å¸¸é‡æ± ä¸­</span><br><span class="hljs-type">String</span> <span class="hljs-variable">bb</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ab&quot;</span>; <span class="hljs-comment">// ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾</span><br>System.out.println(aa == bb);<span class="hljs-comment">// true</span><br>System.out.println(a == b);<span class="hljs-comment">// false</span><br>System.out.println(a.equals(b));<span class="hljs-comment">// true</span><br>System.out.println(<span class="hljs-number">42</span> == <span class="hljs-number">42.0</span>);<span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><p><code>String</code> ä¸­çš„ <code>equals</code> æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º <code>Object</code> çš„ <code>equals</code> æ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œ <code>String</code> çš„ <code>equals</code> æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚</p><p>å½“åˆ›å»º <code>String</code> ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª <code>String</code> å¯¹è±¡ã€‚</p><p><code>String</code>ç±»<code>equals()</code>æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object anObject)</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == anObject) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (anObject <span class="hljs-keyword">instanceof</span> String) &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">anotherString</span> <span class="hljs-operator">=</span> (String)anObject;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> value.length;<br>        <span class="hljs-keyword">if</span> (n == anotherString.value.length) &#123;<br>            <span class="hljs-type">char</span> v1[] = value;<br>            <span class="hljs-type">char</span> v2[] = anotherString.value;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span> (n-- != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">if</span> (v1[i] != v2[i])<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                i++;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="Stringã€StringBufferã€StringBuilder-çš„åŒºåˆ«ï¼Ÿ"><a href="#Stringã€StringBufferã€StringBuilder-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Stringã€StringBufferã€StringBuilder çš„åŒºåˆ«ï¼Ÿ"></a><em><strong>Stringã€StringBufferã€StringBuilder çš„åŒºåˆ«ï¼Ÿ</strong></em></h2><p><strong>å¯å˜æ€§</strong></p><p><code>String</code> æ˜¯ä¸å¯å˜çš„ï¼ˆåé¢ä¼šè¯¦ç»†åˆ†æåŸå› ï¼‰ã€‚</p><p><code>StringBuilder</code> ä¸ <code>StringBuffer</code> éƒ½ç»§æ‰¿è‡ª <code>AbstractStringBuilder</code> ç±»ï¼Œåœ¨ <code>AbstractStringBuilder</code> ä¸­ä¹Ÿæ˜¯ä½¿ç”¨å­—ç¬¦æ•°ç»„ä¿å­˜å­—ç¬¦ä¸²ï¼Œä¸è¿‡æ²¡æœ‰ä½¿ç”¨ <code>final</code> å’Œ <code>private</code> å…³é”®å­—ä¿®é¥°ï¼Œæœ€å…³é”®çš„æ˜¯è¿™ä¸ª <code>AbstractStringBuilder</code> ç±»è¿˜æä¾›äº†å¾ˆå¤šä¿®æ”¹å­—ç¬¦ä¸²çš„æ–¹æ³•æ¯”å¦‚ <code>append</code> æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractStringBuilder</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Appendable</span>, CharSequence &#123;<br>    <span class="hljs-type">char</span>[] value;<br>    <span class="hljs-keyword">public</span> AbstractStringBuilder <span class="hljs-title function_">append</span><span class="hljs-params">(String str)</span> &#123;<br>        <span class="hljs-keyword">if</span> (str == <span class="hljs-literal">null</span>)<br>            <span class="hljs-keyword">return</span> appendNull();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> str.length();<br>        ensureCapacityInternal(count + len);<br>        str.getChars(<span class="hljs-number">0</span>, len, value, count);<br>        count += len;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>    &#125;<br>  	<span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>çº¿ç¨‹å®‰å…¨æ€§</strong></p><p><code>String</code> ä¸­çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±å¯ä»¥ç†è§£ä¸ºå¸¸é‡ï¼Œçº¿ç¨‹å®‰å…¨ã€‚<code>AbstractStringBuilder</code> æ˜¯ <code>StringBuilder</code> ä¸ <code>StringBuffer</code> çš„å…¬å…±çˆ¶ç±»ï¼Œå®šä¹‰äº†ä¸€äº›å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œï¼Œå¦‚ <code>expandCapacity</code>ã€<code>append</code>ã€<code>insert</code>ã€<code>indexOf</code> ç­‰å…¬å…±æ–¹æ³•ã€‚<code>StringBuffer</code> å¯¹æ–¹æ³•åŠ äº†åŒæ­¥é”æˆ–è€…å¯¹è°ƒç”¨çš„æ–¹æ³•åŠ äº†åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<code>StringBuilder</code> å¹¶æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡ŒåŠ åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</p><p><strong>æ€§èƒ½</strong></p><p>æ¯æ¬¡å¯¹ <code>String</code> ç±»å‹è¿›è¡Œæ”¹å˜çš„æ—¶å€™ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ <code>String</code> å¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„ <code>String</code> å¯¹è±¡ã€‚<code>StringBuffer</code> æ¯æ¬¡éƒ½ä¼šå¯¹ <code>StringBuffer</code> å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡å¹¶æ”¹å˜å¯¹è±¡å¼•ç”¨ã€‚ç›¸åŒæƒ…å†µä¸‹ä½¿ç”¨ <code>StringBuilder</code> ç›¸æ¯”ä½¿ç”¨ <code>StringBuffer</code> ä»…èƒ½è·å¾— 10%~15% å·¦å³çš„æ€§èƒ½æå‡ï¼Œä½†å´è¦å†’å¤šçº¿ç¨‹ä¸å®‰å…¨çš„é£é™©ã€‚</p><p><strong>å¯¹äºä¸‰è€…ä½¿ç”¨çš„æ€»ç»“ï¼š</strong></p><ol><li>æ“ä½œå°‘é‡çš„æ•°æ®: é€‚ç”¨ <code>String</code></li><li>å•çº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ <code>StringBuilder</code></li><li>å¤šçº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ <code>StringBuffer</code></li></ol><hr><h2 id="String-ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„"><a href="#String-ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„" class="headerlink" title="String ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„?"></a><em><strong>String ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„?</strong></em></h2><p><code>~~String</code> ç±»ä¸­ä½¿ç”¨ <code>final</code> å…³é”®å­—ä¿®é¥°å­—ç¬¦æ•°ç»„æ¥ä¿å­˜å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥<code>String</code> å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚~~</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">String</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">java</span>.io.Serializable, Comparable&lt;String&gt;, CharSequence &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">char</span> value[];<br>	<span class="hljs-comment">//...</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>ğŸ› ä¿®æ­£ï¼šæˆ‘ä»¬çŸ¥é“è¢« final å…³é”®å­—ä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼Œä¿®é¥°çš„å˜é‡æ˜¯åŸºæœ¬æ•°æ®ç±»å‹åˆ™å€¼ä¸èƒ½æ”¹å˜ï¼Œä¿®é¥°çš„å˜é‡æ˜¯å¼•ç”¨ç±»å‹åˆ™ä¸èƒ½å†æŒ‡å‘å…¶ä»–å¯¹è±¡ã€‚å› æ­¤ï¼Œfinal å…³é”®å­—ä¿®é¥°çš„æ•°ç»„ä¿å­˜å­—ç¬¦ä¸²å¹¶ä¸æ˜¯ String ä¸å¯å˜çš„æ ¹æœ¬åŸå› ï¼Œå› ä¸ºè¿™ä¸ªæ•°ç»„ä¿å­˜çš„å­—ç¬¦ä¸²æ˜¯å¯å˜çš„ï¼ˆfinal ä¿®é¥°å¼•ç”¨ç±»å‹å˜é‡çš„æƒ…å†µï¼‰ã€‚</p><p><code>String</code> çœŸæ­£ä¸å¯å˜æœ‰ä¸‹é¢å‡ ç‚¹åŸå› ï¼š</p><ol><li>ä¿å­˜å­—ç¬¦ä¸²çš„æ•°ç»„è¢« <code>final</code> ä¿®é¥°ä¸”ä¸ºç§æœ‰çš„ï¼Œå¹¶ä¸”<code>String</code> ç±»æ²¡æœ‰æä¾›&#x2F;æš´éœ²ä¿®æ”¹è¿™ä¸ªå­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚</li><li><code>String</code> ç±»è¢« <code>final</code> ä¿®é¥°å¯¼è‡´å…¶ä¸èƒ½è¢«ç»§æ‰¿ï¼Œè¿›è€Œé¿å…äº†å­ç±»ç ´å <code>String</code> ä¸å¯å˜ã€‚</li></ol><p>ç›¸å…³é˜…è¯»ï¼š<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/20618891/answer/114125846">å¦‚ä½•ç†è§£ String ç±»å‹å€¼çš„ä¸å¯å˜ï¼Ÿ - çŸ¥ä¹æé—®open in new window</a></p><p>è¡¥å……ï¼ˆæ¥è‡ª<a target="_blank" rel="noopener" href="https://github.com/Snailclimb/JavaGuide/issues/675">issue 675open in new window</a>ï¼‰ï¼šåœ¨ Java 9 ä¹‹åï¼Œ<code>String</code>ã€<code>StringBuilder</code> ä¸ <code>StringBuffer</code> çš„å®ç°æ”¹ç”¨ <code>byte</code> æ•°ç»„å­˜å‚¨å­—ç¬¦ä¸²ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">String</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">java</span>.io.Serializable,Comparable&lt;String&gt;, CharSequence &#123;<br>    <span class="hljs-comment">// @Stable æ³¨è§£è¡¨ç¤ºå˜é‡æœ€å¤šè¢«ä¿®æ”¹ä¸€æ¬¡ï¼Œç§°ä¸ºâ€œç¨³å®šçš„â€ã€‚</span><br>    <span class="hljs-meta">@Stable</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">byte</span>[] value;<br>&#125;<br><br><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractStringBuilder</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Appendable</span>, CharSequence &#123;<br>    <span class="hljs-type">byte</span>[] value;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Java 9 ä¸ºä½•è¦å°† <code>String</code> çš„åº•å±‚å®ç°ç”± <code>char[]</code> æ”¹æˆäº† <code>byte[]</code> ?</strong></p><p>æ–°ç‰ˆçš„ String å…¶å®æ”¯æŒä¸¤ä¸ªç¼–ç æ–¹æ¡ˆï¼šLatin-1 å’Œ UTF-16ã€‚å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ±‰å­—æ²¡æœ‰è¶…è¿‡ Latin-1 å¯è¡¨ç¤ºèŒƒå›´å†…çš„å­—ç¬¦ï¼Œé‚£å°±ä¼šä½¿ç”¨ Latin-1 ä½œä¸ºç¼–ç æ–¹æ¡ˆã€‚Latin-1 ç¼–ç æ–¹æ¡ˆä¸‹ï¼Œ<code>byte</code> å ä¸€ä¸ªå­—èŠ‚(8 ä½)ï¼Œ<code>char</code> å ç”¨ 2 ä¸ªå­—èŠ‚ï¼ˆ16ï¼‰ï¼Œ<code>byte</code> ç›¸è¾ƒ <code>char</code> èŠ‚çœä¸€åŠçš„å†…å­˜ç©ºé—´ã€‚</p><p>JDK å®˜æ–¹å°±è¯´äº†ç»å¤§éƒ¨åˆ†å­—ç¬¦ä¸²å¯¹è±¡åªåŒ…å« Latin-1 å¯è¡¨ç¤ºçš„å­—ç¬¦ã€‚</p><p><img src="https://oss.javaguide.cn/github/javaguide/jdk9-string-latin1.png" srcset="/img/loading.gif" lazyload></p><p>å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«çš„æ±‰å­—è¶…è¿‡ Latin-1 å¯è¡¨ç¤ºèŒƒå›´å†…çš„å­—ç¬¦ï¼Œ<code>byte</code> å’Œ <code>char</code> æ‰€å ç”¨çš„ç©ºé—´æ˜¯ä¸€æ ·çš„ã€‚</p><p>è¿™æ˜¯å®˜æ–¹çš„ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://openjdk.java.net/jeps/254">https://openjdk.java.net/jeps/254</a> ã€‚</p></blockquote><hr></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Java/" class="category-chain-item">Java</a></span></span></div></div><div class="license-box my-3"><div class="license-title"><div>JavaåŸºç¡€</div><div>https://tomysmith.top/java-basics/</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>Plua Htims</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2023å¹´11æœˆ26æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/java-collection/" title="Javaé›†åˆ"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Javaé›†åˆ</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/judge-square-sum/" title="å¹³æ–¹æ•°ä¹‹å’Œ"><span class="hidden-mobile">å¹³æ–¹æ•°ä¹‹å’Œ</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="waline"></div><script type="text/javascript">Fluid.utils.loadComments("#waline",(function(){Fluid.utils.createCssLink("https://cdn.staticfile.org/waline/2.15.5/waline.min.css"),Fluid.utils.createScript("https://cdn.staticfile.org/waline/2.15.5/waline.min.js",(function(){var i=Object.assign({serverURL:"https://waline-server-sage.vercel.app/",path:"window.location.pathname",meta:["nick","mail","link"],requiredMeta:["nick"],lang:"zh-CN",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],dark:'html[data-user-color-scheme="dark"]',wordLimit:0,pageSize:10},{el:"#waline",path:window.location.pathname});Waline.init(i),Fluid.utils.waitElementVisible("#waline .vcontent",()=>{var i="#waline .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-x-md"><div class="container custom mx-auto"><script src="/live2d-widget/autoload.js"></script></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript></body></html>